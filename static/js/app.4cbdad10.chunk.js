"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[3524],{4746:function(e,t,a){a.r(t),a.d(t,{default:function(){return pe}});var r=a(3296),n=a(2176),o=a(8123),s=a(1635),l=a(4242),i=a(4727),p=a(2038),d=a(6767),c=a(3472),m=a(3338),u=a(1144),g=a(1767),h=a(6799),f=a(975),E=a(7492),w=a(4782),A=a(2460),y={container:"App_container__KkHQY",title:"App_title__OeqjW",description:"App_description__VWmvS",heading:"App_heading__21opY",sidebar:"App_sidebar__EbNVl"},S=a(4967),b=a(3587),v=a(4349),k=a(591),_=a(2624),D=a(4259),O=a(4462),N=a(7024),R=JSON.parse('{"Your apps":"\u062a\u0637\u0628\u064a\u0642\u0627\u062a\u0643","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),x=JSON.parse('{"Your apps":"Va\u0161e aplikace","Drag and drop the menu items to re-order them.":"P\u0159et\xe1hn\u011bte polo\u017eky nab\xeddky a uspo\u0159\xe1dejte je znovu.","Updated order of apps.":"Aktualizovan\xe9 po\u0159ad\xed aplikac\xed.","Something went wrong whilst loading your apps":"P\u0159i na\u010d\xedt\xe1n\xed aplikac\xed se n\u011bco pokazilo"}'),U=JSON.parse('{"Your apps":"Your apps","Drag and drop the menu items to re-order them.":"Drag and drop the menu items to re-order them.","ERROR":"ERROR","Loading...":"Loading...","Updated order of apps.":"Updated order of apps.","Something went wrong whilst loading your apps":"Something went wrong whilst loading your apps"}'),z=JSON.parse('{"Your apps":"Sus aplicaciones","Drag and drop the menu items to re-order them.":"Arrastre y suelte los elementos del men\xfa para volver a ordenarlos","Updated order of apps.":"Orden actualizado de aplicaciones.","Something went wrong whilst loading your apps":"Algo sali\xf3 mal al cargar sus aplicaciones"}'),Y=JSON.parse('{"Your apps":"Vos applications","Drag and drop the menu items to re-order them.":"Faites glissez les \xe9l\xe9ments de menu pour les r\xe9arranger!","Updated order of apps.":"Ordre des applications mis \xe0 jour.","Something went wrong whilst loading your apps":"Une erreur s\'est produite lors du chargement de vos applications"}'),C=JSON.parse('{"Your apps":"Dine applikasjoner","Drag and drop the menu items to re-order them.":"Dra og slipp menypunktene for \xe5 endre rekkef\xf8lge","Updated order of apps.":"Oppdatert rekkef\xf8lge av apper.","Something went wrong whilst loading your apps":"Noe gikk galt under innlasting av appene dine"}'),J=JSON.parse('{"Your apps":"Dina appar","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),j=JSON.parse('{"Your apps":"\u0412\u0430\u0448\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u0438","Drag and drop the menu items to re-order them.":"\u041f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043f\u0443\u043d\u043a\u0442\u0438 \u043c\u0435\u043d\u044e, \u0449\u043e\u0431 \u0437\u043c\u0456\u043d\u0438\u0442\u0438 \u0457\u0445 \u043f\u043e\u0440\u044f\u0434\u043e\u043a.","Updated order of apps.":"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u043e\u0434\u0430\u0442\u043a\u0456\u0432.","Something went wrong whilst loading your apps":"\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u043e\u0434\u0430\u0442\u043a\u0456\u0432 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430"}'),M=JSON.parse('{"Your apps":"\u0622\u067e \u06a9\u06cc \u0627\u06cc\u067e\u0633","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),L=JSON.parse('{"Your apps":"Sizning ilovalaringiz","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),I=JSON.parse('{"Your apps":"\u0421\u0438\u0437\u043d\u0438\u043d\u0433 \u0438\u043b\u043e\u0432\u0430\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437","Drag and drop the menu items to re-order them.":"\u041c\u0435\u043d\u044e \u0442\u0430\u0440\u0442\u0438\u0431\u0438\u043d\u0438 \u045e\u0437\u0433\u0430\u0440\u0442\u0438\u0440\u0438\u0448 \u0443\u0447\u0443\u043d \u0443\u043b\u0430\u0440\u043d\u0438 \u0441\u0438\u043b\u0436\u0438\u0442\u0438\u043d\u0433","Updated order of apps.":"\u0418\u043b\u043e\u0432\u0430\u043b\u0430\u0440 \u0442\u0430\u0440\u0442\u0438\u0431\u0438 \u044f\u043d\u0433\u0438\u043b\u0430\u043d\u0434\u0438","Something went wrong whilst loading your apps":"\u0418\u043b\u043e\u0432\u0430\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437\u043d\u0438 \u044e\u043a\u043b\u0430\u0448\u0434\u0430 \u0445\u0430\u0442\u043e\u043b\u0438\u043a \u044e\u0437 \u0431\u0435\u0440\u0434\u0438"}'),P=JSON.parse('{"Your apps":"Sizning ilovalaringiz","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),W=JSON.parse('{"Your apps":"\u1ee8ng d\u1ee5ng c\u1ee7a b\u1ea1n","Drag and drop the menu items to re-order them.":"","Updated order of apps.":"","Something went wrong whilst loading your apps":""}'),H=JSON.parse('{"Your apps":"\u4f60\u7684\u5e94\u7528","Drag and drop the menu items to re-order them.":"\u62d6\u653e\u83dc\u5355\u9879\u4ee5\u5bf9\u5176\u91cd\u65b0\u6392\u5e8f\u3002","Updated order of apps.":"\u5e94\u7528\u7a0b\u5e8f\u7684\u66f4\u65b0\u987a\u5e8f\u3002","Something went wrong whilst loading your apps":"\u52a0\u8f7d\u5e94\u7528\u7a0b\u5e8f\u65f6\u51fa\u4e86\u70b9\u95ee\u9898"}');const V="default";N.A.addResources("ar",V,R),N.A.addResources("cs",V,x),N.A.addResources("en",V,U),N.A.addResources("es",V,z),N.A.addResources("fr",V,Y),N.A.addResources("nb",V,C),N.A.addResources("sv",V,J),N.A.addResources("uk",V,j),N.A.addResources("ur",V,M),N.A.addResources("uz_Latn",V,L),N.A.addResources("uz_UZ_Cyrl",V,I),N.A.addResources("uz_UZ_Latn",V,P),N.A.addResources("vi",V,W),N.A.addResources("zh",V,H);var $=N.A,F=a(9029),K=a(3990),q="DraggableApp_app-link__O7o3z",B="DraggableApp_app-icon__bMGf1",G="DraggableApp_app-name__hE5Oo";const Q=e=>{let{defaultAction:t,icon:a,displayName:r}=e;return n.createElement("div",null,n.createElement("a",{className:q,href:t},n.createElement("img",{className:B,src:a}),n.createElement("div",{className:G},r)))};var T=e=>{let{app:t,onDrag:a,onDrop:r}=e;const[{isDragging:o},s]=(0,F.i)({item:{name:t.name,type:"APP"},collect:e=>({isDragging:e.isDragging()}),end:r}),[,l]=(0,K.H)({accept:"APP",hover(e){e.name!=t.name&&a(e.name,t.name)}}),i=(0,n.useRef)();return s(i),l(i),n.createElement("div",{ref:i,style:{visibility:o?"hidden":"visible"}},n.createElement(Q,t))},Z="MenuManagement_apps__Mvj9k";const X={apps:{resource:"action::menu/getModules"}},ee={resource:"menu",type:"create",data:e=>{let{items:t}=e;return t}},te=e=>{let{apps:t,initialAppsOrder:a}=e;const[o,s]=(0,n.useState)(a),{show:l}=(0,r.MW)($.t("Updated order of apps."),{success:!0}),{show:i}=(0,r.MW)((e=>e),{critical:!0}),[p]=(0,r.r8)(ee,{onComplete(){l()},onError(e){i(e.message)}}),d=(0,n.useCallback)(((e,t)=>{const a=((e,t,a)=>{const r=e.indexOf(t),n=e.indexOf(a),o=[...e];return o.splice(r,1),o.splice(n,0,t),o})(o,e,t);s(a)}),[o]),c=(0,n.useCallback)((()=>{p({items:o})}),[o]);return n.createElement(_.A,{bordered:!1},n.createElement(D.Q,{backend:O.t2},n.createElement("div",{className:Z},o.map((e=>n.createElement(T,{key:e,onDrag:d,onDrop:c,app:t[e]}))))))};var ae=()=>{const{baseUrl:e}=(0,r.UK)(),{loading:t,error:a,data:o}=(0,r.iO)(X),s=(0,n.useMemo)((()=>{const t=t=>t.startsWith("http:")||t.startsWith("https:")?t:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e=>!!e)).map((e=>e.replace(/^\/+|\/+$/g,""))).join("/")}(e,"api",t);return null===o||void 0===o?void 0:o.apps.modules.map((e=>({...e,icon:t(e.icon),defaultAction:t(e.defaultAction)})))}),[o]);if(t)return n.createElement(b.o,null,n.createElement(v.F,null));if(a){const e=$.t("Something went wrong whilst loading your apps");return n.createElement(k.I,{error:!0,title:e},a.message)}const l={};return s.forEach((e=>l[e.name]=e)),n.createElement(te,{apps:l,initialAppsOrder:s.map((e=>{let{name:t}=e;return t}))})};function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},re.apply(null,arguments)}const{Search:ne}=g.A,{Sider:oe,Content:se}=h.A,le={me:{resource:"me"}};function ie(e){let t,a=0;for(t=0;t<e.length;t+=1)a=e.charCodeAt(t)+((a<<5)-a);let r="#";for(t=0;t<3;t+=1){r+=`00${(a>>8*t&255).toString(16)}`.slice(-2)}return r}var pe=()=>{const[e,t]=(0,n.useState)(!1),{token:{colorBgContainer:a,borderRadiusLG:g}}=f.A.useToken(),{error:b,loading:v,data:k}=(0,r.iO)(le);if(b)return n.createElement("span",null,$.t("ERROR"));if(v)return n.createElement("span",null,$.t("Loading..."));const _=[{icon:n.createElement(c.A,re({},(D=k.me.name,{sx:{bgcolor:ie(D)},children:`${D.split(" ")[0][0]}${D.split(" ")[1][0]}`}),{sx:{width:30,height:30}})),label:"Profile",children:[{key:"profile-settings",label:n.createElement("a",{href:"/dhis-web-user-profile/#/settings"},"Settings"),icon:n.createElement(o.A,null)},{key:"account",label:n.createElement("a",{href:"/dhis-web-user-profile/#/account"},"Account"),icon:n.createElement(s.A,null)},{key:"logout",label:n.createElement("a",{href:"/dhis-web-commons-security/logout.action"},"Logout"),icon:n.createElement(l.A,null)}]}];var D;return n.createElement(h.A,{style:{minHeight:"100vh"}},n.createElement(oe,{trigger:null,collapsible:!0,defaultCollapsed:!0,collapsed:e,className:y.sidebar},n.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"}},n.createElement("img",{src:"https://res.cloudinary.com/diaxcqxfp/image/upload/v1730971091/prescott-logo.png",alt:"Cloudinary Icon",style:{width:"50px",height:"55px"}}),n.createElement(E.Ay,{type:"text",icon:e?n.createElement(m.A,{fontSize:"medium"}):n.createElement(u.A,{fontSize:"medium"}),onClick:()=>t(!e),style:{fontSize:"50px",width:"64px",height:"64px"}})),n.createElement("div",{className:"demo-logo-vertical"}),n.createElement(w.A,{mode:"inline",defaultSelectedKeys:["2"]},n.createElement(w.A.Item,{key:"1",icon:n.createElement(i.A,null)},n.createElement("span",null,n.createElement("a",{href:"/dhis-web-dashboard/"},"Dashboard"))),n.createElement(w.A.Item,{key:"2",icon:n.createElement(p.A,null)},n.createElement("span",null,n.createElement("a",{href:"/dhis-web-menu-management/"},"App Menu"))),n.createElement(w.A.Item,{key:"3",icon:n.createElement(s.A,null)},n.createElement("span",null,n.createElement("a",{href:"/dhis-web-user/"},"Users"))),n.createElement(w.A.Item,{key:"4",icon:n.createElement(o.A,null)},n.createElement("span",null,n.createElement("a",{href:"/dhis-web-settings/"},"System Settings")))),n.createElement(w.A,{mode:"vertical",style:{paddingTop:"400px"},items:_})),n.createElement(h.A,null,n.createElement("div",{className:y.titBar,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px"}},n.createElement("h1",{className:y.heading},"App Menu"),n.createElement("div",{style:{flex:1,textAlign:"center"}},n.createElement(ne,{disabled:!0,placeholder:"Search",allowClear:!0,size:"large",style:{width:304}})),n.createElement("div",{style:{marginLeft:"auto",paddingRight:"30px"}},n.createElement(A.A,{title:"Notifications"},n.createElement(E.Ay,{disabled:!0,shape:"circle",size:"large",icon:n.createElement(d.A,{size:"large"})})))),n.createElement(se,{style:{margin:"15px",padding:15,minHeight:280,background:a,borderRadius:g,border:"1px solid #D7D7D7"}},n.createElement(n.Fragment,null,n.createElement(S.L,{spacers:!0,theme:!0}),n.createElement("div",{className:y.container},n.createElement("div",null,n.createElement("h1",{className:y.title},$.t("Your apps")),n.createElement("p",{className:y.description},$.t("Drag and drop the menu items to re-order them."))),n.createElement(ae,null))))))}}}]);
//# sourceMappingURL=app.4cbdad10.chunk.js.map