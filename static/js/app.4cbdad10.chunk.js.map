{"version":3,"file":"static/js/app.4cbdad10.chunk.js","mappings":"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","sources":["webpack://@dhis2/app-shell/./src/D2App/App.module.css?77cb","D2App/locales/index.js","webpack://@dhis2/app-shell/./src/D2App/components/MenuManagement/DraggableApp.module.css?20e8","D2App/components/MenuManagement/DraggableApp.js","webpack://@dhis2/app-shell/./src/D2App/components/MenuManagement/MenuManagement.module.css?9200","D2App/components/MenuManagement/index.js","D2App/Main.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"App_container__KkHQY\",\"title\":\"App_title__OeqjW\",\"description\":\"App_description__VWmvS\",\"heading\":\"App_heading__21opY\",\"sidebar\":\"App_sidebar__EbNVl\"};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport csTranslations from './cs/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport svTranslations from './sv/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\nexport default i18n;","// extracted by mini-css-extract-plugin\nexport default {\"app-link\":\"DraggableApp_app-link__O7o3z\",\"app-icon\":\"DraggableApp_app-icon__bMGf1\",\"app-name\":\"DraggableApp_app-name__hE5Oo\"};","import PropTypes from 'prop-types';\nimport React, { useRef } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport classes from './DraggableApp.module.css';\nconst App = _ref => {\n  let {\n    defaultAction,\n    icon,\n    displayName\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"a\", {\n    className: classes['app-link'],\n    href: defaultAction\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes['app-icon'],\n    src: icon\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes['app-name']\n  }, displayName)));\n};\nApp.propTypes = {\n  defaultAction: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired\n};\nconst DND_ITEM_TYPE = 'APP';\nconst DraggableApp = _ref2 => {\n  let {\n    app,\n    onDrag,\n    onDrop\n  } = _ref2;\n  const [{\n    isDragging\n  }, connectDrag] = useDrag({\n    item: {\n      name: app.name,\n      type: DND_ITEM_TYPE\n    },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    }),\n    end: onDrop\n  });\n  const [, connectDrop] = useDrop({\n    accept: DND_ITEM_TYPE,\n    hover(item) {\n      if (item.name != app.name) {\n        onDrag(item.name, app.name);\n      }\n    }\n  });\n  const ref = useRef();\n  connectDrag(ref);\n  connectDrop(ref);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    style: {\n      visibility: isDragging ? 'hidden' : 'visible'\n    }\n  }, /*#__PURE__*/React.createElement(App, app));\n};\nDraggableApp.propTypes = {\n  app: PropTypes.any.isRequired,\n  onDrag: PropTypes.func.isRequired,\n  onDrop: PropTypes.func.isRequired\n};\nexport default DraggableApp;","// extracted by mini-css-extract-plugin\nexport default {\"apps\":\"MenuManagement_apps__Mvj9k\"};","import { useDataQuery, useDataMutation, useConfig, useAlert } from '@dhis2/app-runtime';\nimport { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport { Card } from 'antd';\nimport PropTypes from 'prop-types';\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport i18n from '../../locales/index.js';\nimport DraggableApp from './DraggableApp.js';\nimport classes from './MenuManagement.module.css';\nconst query = {\n  apps: {\n    resource: 'action::menu/getModules'\n  }\n};\nconst mutation = {\n  resource: 'menu',\n  type: 'create',\n  data: _ref => {\n    let {\n      items\n    } = _ref;\n    return items;\n  }\n};\nconst moveApp = (apps, app, target) => {\n  const appIndex = apps.indexOf(app);\n  const targetIndex = apps.indexOf(target);\n  const newApps = [...apps];\n  newApps.splice(appIndex, 1);\n  newApps.splice(targetIndex, 0, app);\n  return newApps;\n};\nconst MenuManagement = _ref2 => {\n  let {\n    apps,\n    initialAppsOrder\n  } = _ref2;\n  const [appsOrder, setAppsOrder] = useState(initialAppsOrder);\n  const {\n    show: showSuccessfulUpdateAlert\n  } = useAlert(i18n.t('Updated order of apps.'), {\n    success: true\n  });\n  const {\n    show: showErrorUpdatingAlert\n  } = useAlert(message => message, {\n    critical: true\n  });\n  const [mutate] = useDataMutation(mutation, {\n    onComplete() {\n      showSuccessfulUpdateAlert();\n    },\n    onError(error) {\n      showErrorUpdatingAlert(error.message);\n    }\n  });\n  const handleAppDrag = useCallback((app, target) => {\n    const newAppsOrder = moveApp(appsOrder, app, target);\n    setAppsOrder(newAppsOrder);\n  }, [appsOrder]);\n  const handleAppDrop = useCallback(() => {\n    mutate({\n      items: appsOrder\n    });\n  }, [appsOrder]);\n  return /*#__PURE__*/React.createElement(Card, {\n    bordered: false\n  }, /*#__PURE__*/React.createElement(DndProvider, {\n    backend: HTML5Backend\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.apps\n  }, appsOrder.map(appName => /*#__PURE__*/React.createElement(DraggableApp, {\n    key: appName,\n    onDrag: handleAppDrag,\n    onDrop: handleAppDrop,\n    app: apps[appName]\n  })))));\n};\nMenuManagement.propTypes = {\n  apps: PropTypes.object.isRequired,\n  initialAppsOrder: PropTypes.array.isRequired\n};\nconst joinPath = function () {\n  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n    parts[_key] = arguments[_key];\n  }\n  const realParts = parts.filter(part => !!part);\n  return realParts.map(part => part.replace(/^\\/+|\\/+$/g, '')).join('/');\n};\nconst MenuManagementWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const {\n    loading,\n    error,\n    data\n  } = useDataQuery(query);\n  const apps = useMemo(() => {\n    const getPath = path => path.startsWith('http:') || path.startsWith('https:') ? path : joinPath(baseUrl, 'api', path);\n    return data === null || data === void 0 ? void 0 : data.apps.modules.map(app => ({\n      ...app,\n      icon: getPath(app.icon),\n      defaultAction: getPath(app.defaultAction)\n    }));\n  }, [data]);\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst loading your apps');\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message);\n  }\n  const appsByName = {};\n  apps.forEach(app => appsByName[app.name] = app);\n  return /*#__PURE__*/React.createElement(MenuManagement, {\n    apps: appsByName,\n    initialAppsOrder: apps.map(_ref3 => {\n      let {\n        name\n      } = _ref3;\n      return name;\n    })\n  });\n};\nexport default MenuManagementWrapper;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport { useDataQuery } from '@dhis2/app-runtime';\nimport React, { useState } from 'react';\nimport { AppstoreOutlined, UserOutlined, DashboardOutlined, SettingOutlined, BellOutlined, LogoutOutlined } from '@ant-design/icons';\nimport { Avatar } from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport MenuOpenOutlinedIcon from '@mui/icons-material/MenuOpenOutlined';\nimport { Button, Layout, Menu, theme, Input, Tooltip } from 'antd';\nimport classes from './App.module.css';\nimport { CssVariables } from '@dhis2/ui';\nimport MenuManagement from './components/MenuManagement/index.js';\nimport i18n from './locales/index.js';\nconst {\n  Search\n} = Input;\nconst {\n  Sider,\n  Content\n} = Layout;\nconst query = {\n  me: {\n    resource: 'me'\n  }\n};\nfunction stringToColor(string) {\n  let hash = 0;\n  let i;\n\n  /* eslint-disable no-bitwise */\n  for (i = 0; i < string.length; i += 1) {\n    hash = string.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let color = '#';\n  for (i = 0; i < 3; i += 1) {\n    const value = hash >> i * 8 & 0xff;\n    color += `00${value.toString(16)}`.slice(-2);\n  }\n  /* eslint-enable no-bitwise */\n\n  return color;\n}\nfunction stringAvatar(name) {\n  return {\n    sx: {\n      bgcolor: stringToColor(name)\n    },\n    children: `${name.split(' ')[0][0]}${name.split(' ')[1][0]}`\n  };\n}\nconst Main = () => {\n  const [collapsed, setCollapsed] = useState(false);\n  const {\n    token: {\n      colorBgContainer,\n      borderRadiusLG\n    }\n  } = theme.useToken();\n  const {\n    error,\n    loading,\n    data\n  } = useDataQuery(query);\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"span\", null, i18n.t('ERROR'));\n  }\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Loading...'));\n  }\n  const avatarItems = [{\n    icon: /*#__PURE__*/React.createElement(Avatar, _extends({}, stringAvatar(data.me.name), {\n      sx: {\n        width: 30,\n        height: 30\n      }\n    })),\n    label: 'Profile',\n    children: [{\n      key: 'profile-settings',\n      label: /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/dhis-web-user-profile/#/settings\"\n      }, \"Settings\"),\n      icon: /*#__PURE__*/React.createElement(SettingOutlined, null)\n    }, {\n      key: 'account',\n      label: /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/dhis-web-user-profile/#/account\"\n      }, \"Account\"),\n      icon: /*#__PURE__*/React.createElement(UserOutlined, null)\n    }, {\n      key: 'logout',\n      label: /*#__PURE__*/React.createElement(\"a\", {\n        href: \"/dhis-web-commons-security/logout.action\"\n      }, \"Logout\"),\n      icon: /*#__PURE__*/React.createElement(LogoutOutlined, null)\n    }]\n  }];\n  return /*#__PURE__*/React.createElement(Layout, {\n    style: {\n      minHeight: '100vh'\n    }\n  }, /*#__PURE__*/React.createElement(Sider, {\n    trigger: null,\n    collapsible: true,\n    defaultCollapsed: true,\n    collapsed: collapsed,\n    className: classes.sidebar\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '20px'\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://res.cloudinary.com/diaxcqxfp/image/upload/v1730971091/prescott-logo.png\",\n    alt: \"Cloudinary Icon\",\n    style: {\n      width: '50px',\n      height: '55px'\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    icon: collapsed ? /*#__PURE__*/React.createElement(MenuIcon, {\n      fontSize: \"medium\"\n    }) : /*#__PURE__*/React.createElement(MenuOpenOutlinedIcon, {\n      fontSize: \"medium\"\n    }),\n    onClick: () => setCollapsed(!collapsed),\n    style: {\n      fontSize: '50px',\n      width: '64px',\n      height: '64px'\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"demo-logo-vertical\"\n  }), /*#__PURE__*/React.createElement(Menu, {\n    mode: \"inline\",\n    defaultSelectedKeys: ['2']\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"1\",\n    icon: /*#__PURE__*/React.createElement(DashboardOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-dashboard/\"\n  }, \"Dashboard\"))), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2\",\n    icon: /*#__PURE__*/React.createElement(AppstoreOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-menu-management/\"\n  }, \"App Menu\"))), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"3\",\n    icon: /*#__PURE__*/React.createElement(UserOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-user/\"\n  }, \"Users\"))), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"4\",\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, null)\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/dhis-web-settings/\"\n  }, \"System Settings\")))), /*#__PURE__*/React.createElement(Menu, {\n    mode: \"vertical\",\n    style: {\n      paddingTop: '400px'\n    },\n    items: avatarItems\n  })), /*#__PURE__*/React.createElement(Layout, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.titBar,\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      padding: '0 16px'\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.heading\n  }, \"App Menu\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1,\n      textAlign: 'center'\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    disabled: true,\n    placeholder: \"Search\",\n    allowClear: true,\n    size: \"large\",\n    style: {\n      width: 304\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: 'auto',\n      paddingRight: '30px'\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Notifications\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: true,\n    shape: \"circle\",\n    size: \"large\",\n    icon: /*#__PURE__*/React.createElement(BellOutlined, {\n      size: 'large'\n    })\n  })))), /*#__PURE__*/React.createElement(Content, {\n    style: {\n      margin: '15px',\n      padding: 15,\n      minHeight: 280,\n      background: colorBgContainer,\n      borderRadius: borderRadiusLG,\n      border: '1px solid #D7D7D7'\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CssVariables, {\n    spacers: true,\n    theme: true\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.title\n  }, i18n.t('Your apps')), /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.description\n  }, i18n.t('Drag and drop the menu items to re-order them.'))), /*#__PURE__*/React.createElement(MenuManagement, null))))));\n};\nexport default Main;"],"names":["namespace","i18n","addResources","arTranslations","csTranslations","enTranslations","esTranslations","frTranslations","nbTranslations","svTranslations","ukTranslations","urTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","App","_ref","defaultAction","icon","displayName","React","className","classes","href","src","_ref2","app","onDrag","onDrop","isDragging","connectDrag","useDrag","item","name","type","collect","monitor","end","connectDrop","useDrop","accept","hover","ref","useRef","style","visibility","query","apps","resource","mutation","data","items","MenuManagement","initialAppsOrder","appsOrder","setAppsOrder","useState","show","showSuccessfulUpdateAlert","useAlert","t","success","showErrorUpdatingAlert","message","critical","mutate","useDataMutation","onComplete","onError","error","handleAppDrag","useCallback","target","newAppsOrder","moveApp","appIndex","indexOf","targetIndex","newApps","splice","handleAppDrop","Card","bordered","DndProvider","backend","HTML5Backend","map","appName","DraggableApp","key","MenuManagementWrapper","baseUrl","useConfig","loading","useDataQuery","useMemo","getPath","path","startsWith","_len","arguments","length","parts","Array","_key","filter","part","replace","join","joinPath","modules","CenteredContent","CircularLoader","msg","NoticeBox","title","appsByName","forEach","_ref3","_extends","Object","assign","bind","n","e","r","hasOwnProperty","call","apply","Search","Input","Sider","Content","Layout","me","stringToColor","string","i","hash","charCodeAt","color","toString","slice","Main","collapsed","setCollapsed","token","colorBgContainer","borderRadiusLG","theme","useToken","avatarItems","Avatar","sx","bgcolor","children","split","width","height","label","SettingOutlined","UserOutlined","LogoutOutlined","minHeight","trigger","collapsible","defaultCollapsed","sidebar","display","flexDirection","alignItems","gap","alt","Button","MenuIcon","fontSize","MenuOpenOutlinedIcon","onClick","Menu","mode","defaultSelectedKeys","Item","DashboardOutlined","AppstoreOutlined","paddingTop","titBar","justifyContent","padding","heading","flex","textAlign","disabled","placeholder","allowClear","size","marginLeft","paddingRight","Tooltip","shape","BellOutlined","margin","background","borderRadius","border","CssVariables","spacers","container","description"],"sourceRoot":""}